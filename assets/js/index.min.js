/*
Theme Name: Mack - Personal Portfolio HTML5 Template
Theme URI: 
Design by: https://themeforest.net/user/themeservices
Developed by: Flash Coder Studio
Version: 1.0
License: 
Tags: 
*/

(() => {
  "use strict";
  var e = $(".menu-bar .main-menu ul").html(),
    e =
      ($(".menu-bar .menu-bar-content").append(
        '<div class="mobile-menu-overlay"></div><div class="search-overlay"></div>'
      ),
      $(".menu-bar .mobile-menu-btn").on("click", function () {
        $(this).addClass("active"),
          $(this)
            .parents(".menu-bar-content")
            .find(".mobile-menu-bar")
            .addClass("active"),
          $(this)
            .parents(".menu-bar-content")
            .find(".mobile-menu-overlay")
            .addClass("active");
      }),
      $(".menu-bar .close-mobile-btn, .menu-bar .mobile-menu-overlay").on(
        "click",
        function () {
          $(this)
            .parents(".menu-bar-content")
            .find(".mobile-menu-bar, .mobile-menu-btn, .mobile-menu-overlay")
            .removeClass("active");
        }
      ),
      $(".menu-bar .search-option-open").on("click", function () {
        $(this)
          .parents(".menu-bar-content")
          .find(".search-close, .header-search, .search-overlay")
          .addClass("active");
      }),
      $(".menu-bar .search-close").on("click", function () {
        $(this)
          .parents(".menu-bar-content")
          .find(".search-close, .header-search, .search-overlay")
          .removeClass("active");
      }),
      $(".menu-bar .mobile-menu-bar .mobile-content").before(
        `<nav class="mobile-main-manu"><ul>${e}</ul></nav>`
      ),
      $(".mobile-menu-bar a.section-link").on("click", function (e) {
        $(this)
          .parents(".menu-bar-content")
          .find(".mobile-menu-bar, .mobile-menu-btn, .mobile-menu-overlay")
          .removeClass("active");
      }),
      $(".menu-bar .mobile-main-manu li:has(ul) > a").on("click", function (e) {
        e.preventDefault();
        var e = $(this).parent("li"),
          t = e.siblings("li");
        e.hasClass("active")
          ? (e.removeClass("active"), e.find("ul").slideUp())
          : (e.addClass("active"),
            t.removeClass("active"),
            t.children("ul:visible").slideUp(),
            e.children("ul").slideDown());
      }),
      $(".menu-bar .mobile-main-manu .has-dropdown")
        .find(".active")
        .parent()
        .slideDown(),
      $(".menu-bar .main-menu a.section-link").each((e, t) => {
        document.addEventListener("DOMContentLoaded", () => {
          var e = () => {
            const n = window.scrollY + 100;
            document.querySelectorAll("nav li").forEach((e) => {
              var t = e.querySelector("a");
              t &&
                (t = t.getAttribute("href")) &&
                "#" !== t &&
                1 < t.length &&
                ((t = document.getElementById(t.substring(1))) &&
                t.offsetTop <= n &&
                t.offsetTop + t.offsetHeight > n
                  ? e.classList.add("active")
                  : e.classList.remove("active"));
            }),
              document.querySelectorAll("a.section-link").forEach((t) => {
                var e = t.getAttribute("href");
                e &&
                  "#" !== e &&
                  1 < e.length &&
                  (e = document.getElementById(e.substring(1))) &&
                  e.offsetTop - 90 <= n &&
                  (t.parentElement.classList.add("active"),
                  t.parentElement.parentElement
                    .querySelectorAll(".section-link")
                    .forEach((e) => {
                      e !== t && e.parentElement.classList.remove("active");
                    }));
              });
          };
          window.addEventListener("scroll", e), e();
        });
      }),
      $(window).scroll(() => {
        let e = $(".menu-bar"),
          t = $(".menu-bar").outerHeight(),
          n = 0 < $(window).scrollTop();
        e.hasClass("v1")
          ? screen.width < 1200
            ? (e.toggleClass("sticky-header", 0 < $(window).scrollTop()),
              n
                ? $("main").css("margin-top", t)
                : $("main").removeAttr("style"))
            : (1200 < screen.width && screen.width < 1500
                ? e.toggleClass("sticky-header", 30 < $(window).scrollTop())
                : e.toggleClass("sticky-header", 50 < $(window).scrollTop()),
              $("main").removeAttr("style"))
          : (e.hasClass("v2") || e.hasClass("v3")) &&
            (screen.width < 1200
              ? (e.toggleClass("sticky-header", 0 < $(window).scrollTop()),
                n
                  ? $("main").css("margin-top", t)
                  : $("main").removeAttr("style"))
              : 1200 < screen.width &&
                (e.toggleClass("sticky-header", 0 < $(window).scrollTop()),
                $("main").removeAttr("style")));
      }),
      document.querySelectorAll("[data-background]").forEach((e) => {
        e.style.backgroundImage = `url(${e.getAttribute("data-background")})`;
      }),
      document.querySelector(".project-items"));
  if (e) {
    const n = new Isotope(e, {
        itemSelector: ".project-items > div",
        layoutMode: "fitRows",
      }),
      a = document.querySelectorAll(".latest-project .project-btns button");
    a.forEach((e) => {
      e.addEventListener("click", (e) => {
        e.preventDefault(),
          a.forEach((e) => e.classList.remove("active")),
          e.currentTarget.classList.add("active");
        e = e.currentTarget.getAttribute("data-filter");
        n.arrange({ filter: e });
      });
    });
  }
  {
    const s = $(".counter");
    function t(t) {
      if (!t.dataset.animated) {
        const n = t.textContent;
        anime({
          targets: t,
          innerHTML: [
            parseInt(t.dataset.countMin) || 0,
            parseInt(t.dataset.countMax),
          ],
          round: 1,
          easing: "linear",
          duration: parseInt(t.dataset.countDuration) || 1e3,
          delay: parseInt(t.dataset.countDelay) || 500,
          complete: function (e) {
            t.textContent = n;
          },
        }),
          (t.dataset.animated = !0);
      }
    }
    const i = (e) => {
      e = e.getBoundingClientRect();
      return (
        0 <= e.top &&
        0 <= e.left &&
        e.bottom <=
          (window.innerHeight || document.documentElement.clientHeight) &&
        e.right <= (window.innerWidth || document.documentElement.clientWidth)
      );
    };
    s.each(function () {
      i(this) && t(this);
    }),
      $(window).on("scroll", () => {
        s.each(function () {
          i(this) && t(this);
        });
      });
  }
  if (
    (document.addEventListener("DOMContentLoaded", function () {
      const e = document.querySelectorAll(".my-progress-bar .progress-vale");
      function t(e) {
        e.dataset.animated ||
          (anime({
            targets: e,
            width: [
              parseInt(e.dataset.progressMinWidth, 10) + "%",
              parseInt(e.dataset.progressMaxWidth, 10) + "%",
            ],
            round: 1,
            easing: "linear",
            duration: parseInt(e.dataset.progressDuration, 10) || 1e3,
            delay: parseInt(e.dataset.progressDelay, 10) || 500,
          }),
          (e.dataset.animated = !0));
      }
      function n(e) {
        e = e.getBoundingClientRect();
        return (
          0 <= e.top &&
          0 <= e.left &&
          e.bottom <=
            (window.innerHeight || document.documentElement.clientHeight) &&
          e.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
      }
      e.forEach(function (e) {
        n(e) && t(e);
      }),
        window.addEventListener("scroll", function () {
          e.forEach(function (e) {
            n(e) && t(e);
          });
        });
      var a = document.querySelectorAll(".percent");
      const l = new IntersectionObserver((e) => {
        e.forEach((e) => {
          var t, n, a, s, r, i, o;
          e.isIntersecting &&
            ((t = e.target),
            (n = parseInt(t.getAttribute("data-percent"), 10)),
            (a = parseInt(t.getAttribute("data-duration"), 10) || 1500),
            (s = parseInt(t.getAttribute("data-delay"), 10) || 0),
            (r = document.createElementNS("http://www.w3.org/2000/svg", "svg")),
            (i = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "circle"
            )),
            (o = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "circle"
            )),
            r.setAttribute("viewBox", "0 0 215 215"),
            r.setAttribute("width", "100%"),
            i.setAttribute("cx", "108"),
            i.setAttribute("cy", "108"),
            i.setAttribute("r", "100"),
            o.setAttribute("cx", "108"),
            o.setAttribute("cy", "108"),
            o.setAttribute("r", "100"),
            r.appendChild(i),
            r.appendChild(o),
            t.appendChild(r),
            anime({
              targets: o,
              strokeDashoffset: [
                anime.setDashoffset,
                2 * Math.PI * 100 - (2 * Math.PI * 100 * n) / 100,
              ],
              easing: "easeInOutSine",
              duration: a,
              delay: s,
            }),
            (i = document.createElement("div")).classList.add("number"),
            t.appendChild(i),
            anime({
              targets: i,
              innerHTML: [0, n],
              round: 1,
              easing: "easeInOutQuad",
              duration: a,
              delay: s,
            }),
            l.unobserve(e.target));
        });
      });
      a.forEach((e) => {
        l.observe(e);
      });
    }),
    new Swiper(".latest-project.v2 .slider", {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: !0,
      speed: 1e3,
      autoplay: { delay: 1e3, disableOnInteraction: !1, pauseOnMouseEnter: !0 },
      pagination: {
        el: ".latest-project.v2 .project-pagination",
        clickable: !0,
      },
      breakpoints: {
        300: { slidesPerView: 1 },
        575: { slidesPerView: 2 },
        992: { slidesPerView: 3, centeredSlides: !0 },
        1200: { slidesPerView: 4 },
      },
    }),
    new Swiper(".latest-project.v3 .slider", {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: !0,
      speed: 1e3,
      autoplay: { delay: 1e3, disableOnInteraction: !1, pauseOnMouseEnter: !0 },
      pagination: {
        el: ".latest-project.v3 .project-pagination",
        clickable: !0,
      },
      breakpoints: {
        300: { slidesPerView: 1 },
        575: { slidesPerView: 2 },
        992: { slidesPerView: 3, centeredSlides: !0 },
        1200: { slidesPerView: 4 },
      },
    }),
    (e = new Swiper(".testimonial.v1 .profile-img-slider", {
      slidesPerView: 3,
      speed: 1e3,
      watchSlidesProgress: !0,
      breakpoints: { 300: { spaceBetween: 15 }, 768: { spaceBetween: 30 } },
    })),
    new Swiper(".testimonial.v1 .profile-text-slider", {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: !0,
      speed: 1e3,
      autoplay: { delay: 3e3, disableOnInteraction: !1, pauseOnMouseEnter: !1 },
      thumbs: { swiper: e },
    }),
    new Swiper(".testimonial.v2 .slider", {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: !0,
      speed: 1e3,
      autoplay: { delay: 3e3, disableOnInteraction: !1, pauseOnMouseEnter: !1 },
    }),
    new Swiper(".testimonial.v3 .slider", {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: !0,
      speed: 1e3,
      autoplay: { delay: 3e3, disableOnInteraction: !1, pauseOnMouseEnter: !1 },
    }),
    new Swiper(".news-blog.v2 .slider", {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: !0,
      speed: 1e3,
      autoplay: { delay: 3e3, disableOnInteraction: !1, pauseOnMouseEnter: !1 },
      navigation: {
        prevEl: ".news-blog.v2 .prev-btn",
        nextEl: ".news-blog.v2 .next-btn",
      },
      breakpoints: {
        300: { slidesPerView: 1 },
        768: { slidesPerView: 2 },
        1200: { slidesPerView: 3 },
      },
    }),
    new Swiper(".news-blog.v3 .slider", {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: !0,
      speed: 1e3,
      autoplay: { delay: 3e3, disableOnInteraction: !1, pauseOnMouseEnter: !1 },
      navigation: {
        prevEl: ".news-blog.v3 .prev-btn",
        nextEl: ".news-blog.v3 .next-btn",
      },
      breakpoints: {
        300: { slidesPerView: 1 },
        768: { slidesPerView: 2 },
        1200: { slidesPerView: 3 },
      },
    }),
    $("form").hasClass("contact-form"))
  ) {
    const o = document.querySelector(".contact-form"),
      l = $(".response");
    o.addEventListener("submit", (e) => {
      e.preventDefault();
      e = new FormData(o);
      !(function (e, t) {
        var n = e.get("name"),
          a = e.get("email"),
          s = e.get("subject"),
          e = e.get("message");
        if (n && "" !== n.trim())
          if (
            (function (e) {
              return /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e);
            })(a)
          )
            if (s && "" !== s.trim()) {
              if (e && "" !== e.trim()) return t.empty(), 1;
              r(t, "Please enter a message.", "error");
            } else r(t, "Please enter a subject.", "error");
          else r(t, "Please enter a valid email address.", "error");
        else r(t, "Please enter your name.", "error");
        return;
      })(e, l) ||
        fetch(o.action, { method: "POST", body: e })
          .then((e) => e.text())
          .then((e) => {
            l.removeClass("error"),
              l.addClass("success"),
              l.text(e),
              o.reset(),
              r(l);
          })
          .catch((e) => {
            r(l, e),
              l.removeClass("success"),
              l.addClass("error"),
              l.text(
                "" +
                  (e ||
                    "Oops! An error occurred and your message could not be sent.")
              );
          });
    });
  }
  function r(e, t, n = "success") {
    anime
      .timeline()
      .add({
        targets: e[0],
        opacity: [0, 1],
        translateY: [50, 0],
        easing: "easeInOutQuad",
        duration: 400,
      })
      .add({
        targets: e[0],
        opacity: [1, 0],
        translateY: [0, -50],
        easing: "easeInOutQuad",
        duration: 400,
        delay: "error" === n ? 2e3 : 6e3,
        complete: () => {
          e.empty(), e.removeClass(n);
        },
      }),
      e.removeClass("error" === n ? "success" : "error"),
      e.addClass(n),
      e.text(t);
  }
  new WOW({ animateClass: "animate__animated", offset: 0 }).init();
  {
    let e = $(".scroll-bottom-Top"),
      t = $("main").find(".banner,.breadcum").first().outerHeight();
    $(window).scroll(function () {
      !(
        $(window).scrollTop() + $(window).height() >=
        $(document).height() - $(".main-footer").outerHeight()
      ) && $(window).scrollTop() > t / 2
        ? e.addClass("show")
        : e.removeClass("show");
    }),
      $(".scroll-bottom-Top, .footer-scroll-Top").on("click", function (e) {
        e.preventDefault(), $("html, body").animate({ scrollTop: 0 }, "300");
      });
  }

  //   my projects section
  const projectData = [
    {
      category: "Facebook Ads Campaign",
      image: "https://placehold.co/600x400/1b2148/fff?text=Real+Estate+Ads",
      liveLink: "https://example.com/project-1",
      title: "Real Estate Ads",
      id: 1,
    },
    {
      category: "Facebook Ads Campaign",
      image: "https://placehold.co/600x400/2d3b57/fff?text=Fashion+Retail",
      liveLink: "https://example.com/project-3",
      title: "Fashion Retail Leads",
      id: 3,
    },
    {
      category: "Instagram Marketing",
      image: "https://placehold.co/600x400/21385a/fff?text=Fashion+Brand",
      liveLink: "https://example.com/project-8",
      title: "Fashion Brand Growth",
      id: 8,
    },
    {
      category: "Instagram Marketing",
      image: "https://placehold.co/600x400/254060/fff?text=Fitness+Coach",
      liveLink: "https://example.com/project-9",
      title: "Fitness Coach Followers",
      id: 9,
    },
    {
      category: "Instagram Marketing",
      image: "https://placehold.co/600x400/2a4866/fff?text=Product+Showcase",
      liveLink: "https://example.com/project-10",
      title: "Product Engagement Campaign",
      id: 10,
    },
    {
      category: "Instagram Marketing",
      image: "https://placehold.co/600x400/2e4f6d/fff?text=Travel+Page",
      liveLink: "https://example.com/project-11",
      title: "Travel Content Boost",
      id: 11,
    },
    {
      category: "Landing Pages",
      image: "https://placehold.co/600x400/4060a3/fff?text=Online+Course",
      liveLink: "https://example.com/project-15",
      title: "Course Registration Page",
      id: 15,
    },
    {
      category: "Landing Pages",
      image: "https://placehold.co/600x400/4667b8/fff?text=Digital+Agency",
      liveLink: "https://example.com/project-16",
      title: "Agency Lead Capture",
      id: 16,
    },
    {
      category: "Landing Pages",
      image: "https://placehold.co/600x400/4c6ecc/fff?text=App+Promo",
      liveLink: "https://example.com/project-17",
      title: "App Download Page",
      id: 17,
    },
  ];

  function renderProjects(filter = "All") {
    const filtered =
      filter === "All"
        ? projectData
        : projectData.filter((p) => p.category === filter);

    const html = filtered
      .map(
        (p) => `
      <a href="${p.liveLink}" class="project-card" target="_blank">
        <img src="${p.image}" alt="${p.title}" class="project-img">
        <div class="arrow-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13.172 12l-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414z"/>
          </svg>
        </div>
      </a>
    `
      )
      .join("");

    $("#projectList")
      .addClass("fade-out")
      .delay(200)
      .queue(function (next) {
        $(this).html(html).removeClass("fade-out");
        next();
      });
  }

  $(document).ready(function () {
    renderProjects();

    $(".tab").on("click", function () {
      $(".tab").removeClass("active");
      $(this).addClass("active");
      const filter = $(this).data("filter");
      renderProjects(filter);
    });
  });
  //   my projects section
})();
